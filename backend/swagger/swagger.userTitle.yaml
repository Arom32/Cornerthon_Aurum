openapi: 3.0.0
info:
  title: User Title Management API
  description: 유저의 보유 칭호(비트마스크) 및 현재 착용 칭호 관리 API
  version: 1.0.0

tags:
  - name: UserTitles
    description: 유저 칭호 관련 작업

components:
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT

  schemas:
    TitleResponse:
      type: object
      properties:
        currentTitle:
          type: string
          example: "새싹 관람객"
        ownedTitlesBit:
          type: integer
          example: 5
        message:
          type: string
          example: "작업 성공"

paths:
  /api/titles/owned:
    get:
      summary: 보유 칭호 목록 조회
      tags: [UserTitles]
      security:
        - bearerAuth: []
      responses:
        200:
          description: 조회 성공
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TitleResponse'

  /api/titles/acquire:
    patch:
      summary: 새로운 칭호 획득
      description: 비트 OR 연산을 통해 특정 칭호 비트를 추가합니다.
      tags: [UserTitles]
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                WishGetTitleBit:
                  type: integer
                  description: "획득할 칭호의 비트 값 (예: 4, 8, 16)"
                  example: 4
      responses:
        200:
          description: 획득 성공

  /api/titles/current:
    patch:
      summary: 현재 착용 칭호 변경
      description: 보유 중인 칭호 중 하나를 선택하여 현재 칭호(String)를 갱신합니다.
      tags: [UserTitles]
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                titleId:
                  type: integer
                  description: 착용할 칭호의 비트 값
                  example: 2
      responses:
        200:
          description: 변경 성공

  /api/titles/remove:
    patch:
      summary: 보유 칭호 제거
      description: 비트 AND NOT 연산을 통해 특정 칭호를 목록에서 제거합니다. (기본 칭호 제외)
      tags: [UserTitles]
      security:
        - bearerAuth: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                WishDeleteTitleBit:
                  type: integer
                  description: 제거할 칭호의 비트 값
                  example: 8
      responses:
        200:
          description: 제거 성공
        400:
          description: 기본 칭호 제거 불가 혹은 유효하지 않은 요청